
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSTs Paid Course By Imran Ustad - Pedagogy Quick Revision MCQs</title>
    <!-- Use Tailwind CSS for modern, responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include html2canvas for capturing the result as a PNG -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        /* Define a custom font family for Georgia */
        .font-georgia {
            font-family: Georgia, serif;
        }

        /* Style for the custom modal box */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .modal-overlay.active {
            opacity: 1;
        }

        .modal-content {
            background-color: #ffffff;
            padding: 2.5rem;
            border-radius: 1rem;
            text-align: center;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(-50px);
            opacity: 0;
            transition: all 0.3s ease-in-out;
        }
        
        .modal-overlay.active .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        /* Button Gradient for Submit */
        .submit-btn {
            background-image: linear-gradient(to right, #10b981, #059669);
            transition: all 0.3s ease;
        }
        .submit-btn:hover {
            box-shadow: 0 4px 15px rgba(5, 150, 105, 0.4);
        }

        /* Option Hover and Selected Effect with new dark green color and no zoom */
        .quiz-option-label {
            transition: all 0.3s ease-in-out;
        }
        
        /* Change background on hover */
        .quiz-option-label:hover {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            background-color: #059669; /* Dark green background */
        }
        
        /* Change text color to white on hover */
        .quiz-option-label:hover span {
            color: #ffffff;
        }
        
        /* Selected option styling */
        .quiz-option-label.selected {
            background-color: #059669; /* Dark green background */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* Ensures text inside selected option is white */
        .quiz-option-label.selected span {
            color: #ffffff;
        }
        
        /* Hide the default radio button while keeping it functional */
        .quiz-option-label input[type="radio"] {
            display: none;
        }
        
        /* Adjust main layout to ensure all components fit on screen */
        .main-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex-grow: 1; /* Allows the container to fill available space */
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        /* On smaller screens, adjust padding to prevent content overflow */
        @media (max-width: 640px) {
            .quiz-content-wrapper {
                padding: 1rem;
            }
        }
        
        /* No zoom effect on buttons */
        .no-zoom:hover {
            transform: none !important;
        }
        
        /* Style for the temporary div used for image generation */
        #download-result-container {
            position: absolute;
            top: -9999px; /* Hide off-screen */
            left: -9999px;
            width: 800px; /* A fixed width for consistent image output */
            background-color: white;
            padding: 2rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        #download-result-container .header-clone,
        #download-result-container .footer-clone {
            text-align: center;
            padding: 1rem;
            background-color: #10b981;
            color: white;
        }
        #download-result-container .results-clone {
            padding: 2rem;
            text-align: center;
        }
        #download-result-container .results-clone p,
        #download-result-container .results-clone h2 {
            text-align: center;
        }
        #download-result-container .results-clone .mb-3 {
            margin-bottom: 0.75rem;
        }
        #download-result-container .results-clone .mb-6 {
            margin-bottom: 1.5rem;
        }

        /* New styling for the full quiz review section */
        .quiz-review-item {
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background-color: #fafafa;
        }

        .quiz-review-question {
            font-weight: 700;
            color: #FF0000; /* Bright red */
            margin-bottom: 0.75rem;
            font-size: 1.125rem; /* text-lg */
        }

        .quiz-review-option {
            padding: 0.5rem;
            border-radius: 0.375rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quiz-review-option.correct {
            background-color: #dcfce7; /* green-100 */
            color: #065f46; /* green-800 */
            font-weight: 600;
        }
        .quiz-review-option.incorrect {
            background-color: #fee2e2; /* red-100 */
            color: #991b1b; /* red-800 */
        }
        
        /* --- FIX: Updated the media print query to correctly display the results container --- */
        @media print {
            /* Hide the main header and footer, as well as the button container */
            .no-print,
            #name-entry-container,
            #quiz-content-wrapper {
                display: none !important;
            }
            
            /* Ensure the main container holding the results is fully visible and styled for printing */
            .container {
                box-shadow: none !important;
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
                width: auto !important;
                max-width: none !important;
                height: auto !important;
            }

            /* Ensure the results container itself is visible and formatted for a clean printout */
            #results-container {
                display: block !important;
                box-shadow: none !important;
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
                background-color: #ffffff !important;
            }
        }

        /* Custom CSS for the video container to maintain a 16:9 aspect ratio */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
            border-radius: 1rem;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Styling for the question number circle */
        .question-number-circle {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 30px; /* Adjust size as needed */
            height: 30px; /* Adjust size as needed */
            border-radius: 50%;
            background-color: #059669; /* Green color */
            color: #ffffff; /* White text */
            font-weight: bold;
            margin-right: 10px;
            flex-shrink: 0; /* Prevent shrinking */
        }
    </style>
</head>
<body class="bg-gradient-to-br from-emerald-50 to-green-100 min-h-screen flex flex-col justify-between items-center">

    <!-- Stylized Green Header Label with user info -->
    <div id="header" class="no-print w-full bg-gradient-to-r from-green-700 to-emerald-600 text-white text-center py-5 text-4xl font-extrabold rounded-b-3xl">
        SSTs Paid Course By Imran Ustad
        <h3 class="text-xl font-semibold mt-2">Pedagogy Quick Revision MCQs</h3>
        <p class="text-base">WhatsApp: 03345501369</p>
        <p class="text-base mt-1">
            <a href="https://www.youtube.com/@TheImranUstad" target="_blank" rel="noopener noreferrer" class="text-white hover:text-gray-200 transition-colors">
                https://www.youtube.com/@TheImranUstad
            </a>
        </p>
    </div>

    <!-- Main quiz container with enhanced styling -->
    <div class="container max-w-5xl mx-auto rounded-3xl shadow-2xl bg-white p-8 sm:p-12 my-8 flex-1 flex flex-col justify-center items-center">
        
        <!-- Name entry container (initial screen) -->
        <div id="name-entry-container" class="w-full max-w-md text-center p-8 bg-gray-50 rounded-3xl shadow-inner border-t-4 border-green-500">
            <h2 class="text-3xl font-extrabold text-green-700 mb-6">Welcome to the Quiz!</h2>
            <p class="text-lg text-gray-700 mb-4">Please enter your name to begin.</p>
            <input type="text" id="name-input" placeholder="Enter your name" class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 mb-6 text-center text-lg">
            <button id="start-btn" class="w-full text-white font-bold py-3.5 rounded-full shadow-lg transition-colors bg-blue-600 hover:bg-blue-700 no-zoom">
                Start Quiz
            </button>
        </div>
        
        <!-- Quiz content wrapper (initially hidden) -->
        <div id="quiz-content-wrapper" class="hidden w-full">
            <!-- Controls and Timer section (Reversed for right alignment) -->
            <div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
                <!-- This div is for navigation buttons (currently empty) -->
                <div class="flex gap-4">
                    <!-- Navigation buttons will be dynamically shown here -->
                </div>
                <!-- Timer is now on the right -->
                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-600" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-xl font-semibold text-gray-700">Time Left:</span>
                    <span id="timer" class="text-3xl font-bold text-red-600 bg-red-100 px-5 py-2.5 rounded-xl shadow-inner">100:00</span>
                </div>
            </div>

            <!-- Quiz questions container -->
            <div id="quiz-form" class="space-y-4">
                <!-- Questions and navigation buttons will be dynamically inserted here by JavaScript -->
            </div>
        </div>

        <!-- Results container (initially hidden) -->
        <div id="results-container" class="hidden mt-8 p-8 bg-gray-50 rounded-3xl shadow-inner border-t-4 border-green-500 w-full">
            <h2 class="text-2xl sm:text-3xl font-extrabold text-center mb-4 text-green-700">Quiz Results</h2>
            <p class="text-lg mb-3 text-center">
                <span id="user-name-result" class="font-extrabold text-green-600"></span>
            </p>
            <p class="text-lg mb-3">
                Total Questions: <span id="total-questions" class="font-extrabold text-green-600"></span>
            </p>
            <p class="text-lg mb-6">
                Obtained Marks: <span id="obtained-marks" class="font-extrabold text-green-600"></span>
            </p>

            <!-- Video Container - Moved to appear on the results page -->
            <div class="w-full mx-auto my-8">
                <div class="bg-white p-6 rounded-3xl shadow-2xl">
                    <h3 class="text-xl sm:text-2xl font-extrabold text-center mb-6 text-green-700">Preparation Guide: KPPSC SST Syllabus 2025</h3>
                    <div class="video-container">
                        <iframe width="695" height="391" src="https://www.youtube.com/embed/sFzdY39_Kw8" title="KPPSC SST Syllabus 2025 KPK | SST General, Maths-Physics, Bio-Chem | Past Papers &amp; Preparation Guide" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
            </div>

            <div id="full-quiz-review" class="mt-8">
                <h3 class="text-xl font-bold text-gray-700 mb-4">Quiz Review:</h3>
                <!-- The full quiz review will be displayed here -->
            </div>
            
            <!-- Button container for the new download button and the print button -->
            <div class="no-print flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-8">
                <!-- Download button for results as PNG -->
                <button id="download-btn" class="w-full bg-indigo-600 text-white font-bold py-3.5 rounded-full shadow-md hover:bg-indigo-700 transition-colors no-zoom">
                    Download Result Card (PNG)
                </button>
                <!-- Print Result button -->
                <button id="print-btn" class="w-full bg-blue-600 text-white font-bold py-3.5 rounded-full shadow-md hover:bg-blue-700 transition-colors no-zoom">
                    Print Result
                </button>
            </div>
        </div>

    </div>

    <!-- Custom modal for validation/errors -->
    <div id="validation-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <p id="modal-message" class="text-xl font-semibold mb-6 text-gray-800"></p>
            <button id="modal-close-btn" class="bg-red-500 text-white font-bold py-2.5 px-6 rounded-full hover:bg-red-600 transition-colors no-zoom">
                Close
            </button>
        </div>
    </div>
    
    <!-- Updated Green Footer Label with enhanced styling -->
    <footer id="footer" class="no-print w-full bg-gradient-to-r from-green-700 to-emerald-600 text-white text-center py-6 text-2xl font-semibold rounded-t-3xl">
        <h3 class="text-2xl font-extrabold mb-1">By Imran Ustad</h3>
        <p class="text-base mb-1">WhatsApp: 03345501369</p>
        <p class="text-base">
            <a href="https://www.youtube.com/@TheImranUstad" target="_blank" rel="noopener noreferrer" class="text-white hover:text-gray-200 transition-colors">
                https://www.youtube.com/@TheImranUstad
            </a>
        </p>
    </footer>

    <script>
        const allQuestions = [
            // Pedagogy Quick Revision MCQs (100 questions) - Shuffled topics
            // Behaviourism (Skinner, Pavlov, Thorndike)
            { question: "1. Which learning theory is most closely associated with the concept of stimulus-response?", options: ["Constructivism", "Cognitivism", "Behaviourism", "Humanism"], correct: 2 },
            { question: "2. The law of effect, which states that responses followed by satisfaction are strengthened, was proposed by:", options: ["B.F. Skinner", "Ivan Pavlov", "Edward Thorndike", "John Dewey"], correct: 2 },
            { question: "3. What is the process of using consequences to modify an organism's behavior, as described by B.F. Skinner?", options: ["Classical Conditioning", "Observational Learning", "Operant Conditioning", "Schema"], correct: 2 },
            { question: "4. A teacher gives a student a sticker for completing their homework. This is an example of:", options: ["Negative reinforcement", "Punishment", "Positive reinforcement", "Classical conditioning"], correct: 2 },
            { question: "5. Pavlov's experiments with dogs and salivation are a classic example of:", options: ["Social learning theory", "Operant conditioning", "Cognitive dissonance", "Classical conditioning"], correct: 3 },
            { question: "6. The idea that a conditioned stimulus can produce a conditioned response without any prior pairing with an unconditioned stimulus is called:", options: ["Extinction", "Generalization", "Spontaneous recovery", "Higher-order conditioning"], correct: 3 },
            { question: "7. In operant conditioning, a 'reinforcer' is a consequence that:", options: ["Decreases a behavior", "Increases a behavior", "Has no effect on behavior", "Always involves punishment"], correct: 1 },
            { question: "8. Thorndike's concept of 'transfer of training' is most related to:", options: ["The law of effect", "The law of readiness", "The law of exercise", "The law of association"], correct: 2 },
            { question: "9. Which type of reinforcement schedule is most resistant to extinction?", options: ["Fixed-ratio", "Variable-ratio", "Fixed-interval", "Variable-interval"], correct: 1 },
            { question: "10. 'Shaping' is a technique used in operant conditioning to:", options: ["Punish undesirable behavior", "Reinforce successive approximations to a desired behavior", "Condition a fear response", "Eliminate a conditioned response"], correct: 1 },

            // Constructivism (Piaget, Vygotsky, Bruner)
            { question: "11. The core idea of constructivism is that learners:", options: ["Are passive receivers of information", "Build knowledge through their own experience and interaction", "Learn primarily through memorization", "Require constant external reinforcement"], correct: 1 },
            { question: "12. Jean Piaget’s stages of cognitive development theory is an example of:", options: ["Social constructivism", "Cognitive constructivism", "Radical constructivism", "Behaviourism"], correct: 1 },
            { question: "13. What term did Lev Vygotsky use to describe the gap between what a learner can do independently and what they can achieve with guidance?", options: ["Cognitive schema", "Scaffolding", "Zone of Proximal Development", "Law of Readiness"], correct: 2 },
            { question: "14. Providing temporary support to help a learner master a task is a process called:", options: ["Assimilation", "Accommodation", "Scaffolding", "Equilibrium"], correct: 2 },
            { question: "15. Vygotsky's emphasis on the role of culture and social interaction in learning is a key aspect of:", options: ["Classical conditioning", "Social constructivism", "Behavioral learning", "Discovery learning"], correct: 1 },
            { question: "16. According to Piaget, when a new experience is integrated into an existing schema, it is called:", options: ["Equilibration", "Accommodation", "Assimilation", "Scaffolding"], correct: 2 },
            { question: "17. A teacher who encourages students to work in groups and discuss their ideas is applying principles from which theory?", options: ["Behaviourism", "Humanism", "Cognitivism", "Constructivism"], correct: 3 },
            { question: "18. Jerome Bruner’s concept of 'spiral curriculum' suggests that topics should be:", options: ["Taught once in great detail", "Taught only through lecture", "Revisited at increasing levels of complexity", "Learned only through rote memorization"], correct: 2 },
            { question: "19. The idea of 'discovery learning', where students learn by exploring and solving problems, is a concept primarily supported by:", options: ["B.F. Skinner", "Carl Rogers", "Jerome Bruner", "Ivan Pavlov"], correct: 2 },
            { question: "20. Which of the following is NOT a core principle of constructivism?", options: ["Learning is an active process", "Knowledge is constructed by the learner", "The teacher is the sole source of knowledge", "Social interaction is important for learning"], correct: 2 },

            // Cognitivism
            { question: "21. Cognitivism focuses on the study of:", options: ["Observable behaviors", "Internal mental processes", "Emotional development", "Social interaction"], correct: 1 },
            { question: "22. The term 'schema' in cognitive psychology refers to:", options: ["A fixed learning style", "A mental framework for organizing knowledge", "A type of classical conditioning", "A reward system"], correct: 1 },
            { question: "23. How does prior knowledge affect learning, according to cognitivism?", options: ["It is irrelevant to new learning", "It hinders the acquisition of new information", "It serves as a foundation for connecting and understanding new information", "It can only be used in specific contexts"], correct: 2 },
            { question: "24. The 'working memory' component in the cognitive learning model is responsible for:", options: ["Long-term storage of information", "Encoding new information into the brain", "Holding a small amount of information for a short period", "Retrieving information from long-term memory"], correct: 2 },
            { question: "25. Which of the following best describes the process of 'encoding' in cognitivism?", options: ["Accessing stored information", "Storing information in long-term memory", "Receiving sensory input", "Converting information into a usable memory format"], correct: 3 },
            { question: "26. Cognitive load theory is concerned with:", options: ["How much information the brain can hold at once", "The amount of effort required to retrieve a memory", "The social context of learning", "The emotional state of the learner"], correct: 0 },
            { question: "27. Metacognition is the process of:", options: ["Thinking about one's own thinking", "Thinking about social interactions", "Learning a new language", "Solving a complex mathematical problem"], correct: 0 },
            { question: "28. The concept of 'cognitive dissonance' refers to a state of discomfort caused by:", options: ["New information contradicting prior knowledge", "A physical feeling of fatigue", "Social isolation", "A lack of motivation"], correct: 0 },
            { question: "29. A teacher using a mind map to help students organize information is applying a principle from which theory?", options: ["Behaviourism", "Cognitivism", "Humanism", "Constructivism"], correct: 1 },
            { question: "30. According to cognitivism, forgetting occurs when:", options: ["A memory is actively erased by the brain", "Information is not properly encoded or retrieved", "A reward is not provided", "The learner is not motivated"], correct: 1 },

            // Humanism (Maslow, Rogers)
            { question: "31. Humanist pedagogy places the learner at the center of the educational process, emphasizing:", options: ["Rote memorization", "Intrinsic motivation and personal growth", "Strict discipline", "Repetitive practice"], correct: 1 },
            { question: "32. Abraham Maslow is best known for his theory of:", options: ["Operant conditioning", "Classical conditioning", "Hierarchy of needs", "Social learning"], correct: 2 },
            { question: "33. According to Maslow, a student will have difficulty focusing on learning if their basic needs, such as food and safety, are not met. This is related to which level of his hierarchy?", options: ["Esteem needs", "Self-actualization", "Physiological needs", "Love and belonging"], correct: 2 },
            { question: "34. Carl Rogers advocated for a 'learner-centered' approach, which requires a teacher to be:", options: ["Strict and authoritarian", "A passive observer", "Empathic, genuine, and non-judgmental", "A lecturer who provides all information"], correct: 2 },
            { question: "35. The concept of 'self-actualization' in humanism refers to the process of:", options: ["Fulfilling one's full potential", "Achieving a state of perfect memory", "Receiving the highest praise from others", "Complying with social norms"], correct: 0 },
            { question: "36. A teacher who provides a safe and supportive classroom environment is addressing which of Maslow's needs?", options: ["Physiological needs", "Safety needs", "Esteem needs", "Cognitive needs"], correct: 1 },
            { question: "37. Humanism views a lack of motivation as a result of:", options: ["Lack of external rewards", "Internal desires and needs not being met", "Poor teaching methods", "A low IQ"], correct: 1 },
            { question: "38. Which theory emphasizes that learning is a personal act and requires a sense of purpose and meaning?", options: ["Behaviourism", "Cognitivism", "Humanism", "Constructivism"], correct: 2 },
            { question: "39. The role of the teacher in a humanist classroom is primarily that of a:", options: ["Disciplinarian", "Facilitator", "Lecturer", "Examiner"], correct: 1 },
            { question: "40. A student who is driven to learn because of their own curiosity and interest is displaying:", options: ["Extrinsic motivation", "Negative reinforcement", "Intrinsic motivation", "Punishment"], correct: 2 },

            // Bloom’s Taxonomy
            { question: "41. Bloom’s Taxonomy is a framework for categorizing educational goals into levels of complexity. The original taxonomy had how many levels?", options: ["4", "5", "6", "7"], correct: 2 },
            { question: "42. The lowest level of Bloom's Taxonomy is:", options: ["Understanding", "Remembering", "Applying", "Analyzing"], correct: 1 },
            { question: "43. Which verb best represents the 'Applying' level of Bloom's Taxonomy?", options: ["Define", "Explain", "Construct", "Use"], correct: 3 },
            { question: "44. The highest level of the revised Bloom's Taxonomy is:", options: ["Evaluating", "Analyzing", "Creating", "Synthesizing"], correct: 2 },
            { question: "45. A student who can 'summarize' a text is demonstrating which level of Bloom's Taxonomy?", options: ["Remembering", "Understanding", "Applying", "Analyzing"], correct: 1 },
            { question: "46. Which level of Bloom's Taxonomy involves breaking down a concept into its component parts?", options: ["Creating", "Analyzing", "Evaluating", "Remembering"], correct: 1 },
            { question: "47. A student who can 'justify' a conclusion is performing a task at which level?", options: ["Understanding", "Applying", "Evaluating", "Creating"], correct: 2 },
            { question: "48. The cognitive process of 'critiquing' a piece of writing falls under which level?", options: ["Analyzing", "Applying", "Creating", "Evaluating"], correct: 3 },
            { question: "49. Which of the following is an example of an activity at the 'Creating' level?", options: ["Listing facts", "Writing a new story", "Explaining a concept", "Comparing two theories"], correct: 1 },
            { question: "50. The main purpose of Bloom's Taxonomy is to help teachers:", options: ["Assess student motivation", "Design questions and learning activities that promote higher-order thinking", "Manage classroom behavior", "Diagnose learning disabilities"], correct: 1 },
            
            // Mixed and shuffled questions for the remaining 50
            { question: "51. According to Piaget, a child in the preoperational stage is characterized by:", options: ["Abstract thought", "Egocentrism", "Conservation", "Logical reasoning"], correct: 1 },
            { question: "52. Skinner's 'operant chamber' is also known as a:", options: ["Puzzle box", "Pavlov box", "Skinner box", "Stimulus chamber"], correct: 2 },
            { question: "53. A teacher provides praise for correct answers. This is a form of:", options: ["Punishment", "Negative reinforcement", "Positive reinforcement", "Extinction"], correct: 2 },
            { question: "54. Which of the following is a key tenet of Maslow’s humanism?", options: ["Learning is purely behavioral", "All learning is social", "Humans have an innate drive toward personal growth", "Knowledge is an external entity"], correct: 2 },
            { question: "55. A teacher asking students to 'design a solution' to a problem is targeting which level of Bloom's Taxonomy?", options: ["Applying", "Analyzing", "Creating", "Evaluating"], correct: 2 },
            { question: "56. The theory that emphasizes the importance of a 'More Knowledgeable Other' is:", options: ["Thorndike's law of effect", "Vygotsky's social constructivism", "Skinner's operant conditioning", "Rogers's learner-centered approach"], correct: 1 },
            { question: "57. The process of adapting one's existing schema to a new experience is called:", options: ["Assimilation", "Scaffolding", "Equilibration", "Accommodation"], correct: 3 },
            { question: "58. In Pavlov's experiment, the bell is the:", options: ["Unconditioned stimulus", "Unconditioned response", "Conditioned stimulus", "Conditioned response"], correct: 2 },
            { question: "59. Which of the following is NOT a core principle of cognitivism?", options: ["Learning involves mental processes", "Prior knowledge is crucial", "The learner is a blank slate", "Memory plays a vital role"], correct: 2 },
            { question: "60. Rogers's concept of 'unconditional positive regard' is most relevant to:", options: ["Encouraging social skills", "Motivating students with rewards", "Creating a supportive learning environment", "Enhancing rote memorization"], correct: 2 },
            { question: "61. A student who can 'differentiate' between facts and opinions is demonstrating which level of Bloom's Taxonomy?", options: ["Remembering", "Understanding", "Analyzing", "Evaluating"], correct: 2 },
            { question: "62. What is the process of weakening a conditioned response by presenting the conditioned stimulus without the unconditioned stimulus?", options: ["Spontaneous recovery", "Generalization", "Extinction", "Discrimination"], correct: 2 },
            { question: "63. Bruner's theory highlights the importance of 'readiness' for learning, which means:", options: ["A child's age is the only factor", "Learning is dependent on intrinsic motivation", "A learner's cognitive development stage", "The teacher's preparation level"], correct: 2 },
            { question: "64. The need for safety and security is at which level of Maslow's hierarchy?", options: ["Physiological", "Esteem", "Love and belonging", "Safety"], correct: 3 },
            { question: "65. A teacher who uses a rubric to 'judge' a student's work is focusing on which level of Bloom's Taxonomy?", options: ["Analyzing", "Evaluating", "Creating", "Applying"], correct: 1 },
            { question: "66. According to Skinner, 'punishment' is a consequence that:", options: ["Increases behavior", "Has no effect on behavior", "Decreases behavior", "Leads to new learning"], correct: 2 },
            { question: "67. Vygotsky's theory suggests that 'private speech' (talking to oneself) is a tool for:", options: ["Social imitation", "Self-regulation", "Expressing emotion", "Habit formation"], correct: 1 },
            { question: "68. Which theory would argue that learning is about making associations between stimuli and responses?", options: ["Constructivism", "Humanism", "Behaviourism", "Cognitivism"], correct: 2 },
            { question: "69. A student who is only motivated to do well on a test to avoid punishment is exhibiting:", options: ["Intrinsic motivation", "Self-actualization", "Extrinsic motivation", "Cognitive dissonance"], correct: 2 },
            { question: "70. What is the primary focus of Humanistic education?", options: ["Academic achievement", "Personal development and self-fulfillment", "Behavioral control", "Cognitive skills"], correct: 1 },
            { question: "71. When a student can 'explain' a complex topic in their own words, they are at which level of Bloom's Taxonomy?", options: ["Remembering", "Understanding", "Applying", "Analyzing"], correct: 1 },
            { question: "72. Thorndike's 'law of exercise' states that the more a stimulus-response connection is used, the more it is:", options: ["Weakened", "Strengthened", "Forgotten", "Conditioned"], correct: 1 },
            { question: "73. The 'sensorimotor stage' in Piaget's theory is characterized by the development of:", options: ["Logical thought", "Object permanence", "Egocentrism", "Abstract reasoning"], correct: 1 },
            { question: "74. The idea that learners can actively build their own knowledge is central to:", options: ["Behaviourism", "Constructivism", "Humanism", "Cognitivism"], correct: 1 },
            { question: "75. A teacher who helps a student with a difficult math problem, gradually reducing their assistance, is using the technique of:", options: ["Positive reinforcement", "Punishment", "Scaffolding", "Assimilation"], correct: 2 },
            { question: "76. 'Schema theory' is a fundamental concept within which learning approach?", options: ["Behaviourism", "Humanism", "Cognitivism", "Constructivism"], correct: 2 },
            { question: "77. Which of the following is a drawback of a purely behaviorist approach?", options: ["It ignores internal mental processes", "It relies too heavily on group work", "It does not provide enough structure", "It discourages the use of technology"], correct: 0 },
            { question: "78. According to Rogers, the best learning happens in an environment of:", options: ["Strict control", "High competition", "Unconditional positive regard", "Minimal interaction"], correct: 2 },
            { question: "79. The revised Bloom’s Taxonomy moved 'Synthesis' to which new level?", options: ["Remembering", "Applying", "Creating", "Analyzing"], correct: 2 },
            { question: "80. A teacher using a mind map is helping students to:", options: ["Memorize facts without context", "Apply a behaviorist principle", "Build cognitive schemas", "Satisfy their basic needs"], correct: 2 },
            { question: "81. The concept of 'readiness' is a key principle in the work of:", options: ["Skinner", "Pavlov", "Thorndike", "Maslow"], correct: 2 },
            { question: "82. In classical conditioning, the 'unconditioned response' is a response that is:", options: ["Learned", "Voluntary", "Automatic", "Taught"], correct: 2 },
            { question: "83. The highest level of Maslow's hierarchy of needs is:", options: ["Esteem", "Love and belonging", "Self-actualization", "Safety"], correct: 2 },
            { question: "84. A student who can 'compare and contrast' two different theories is at which level of Bloom's Taxonomy?", options: ["Remembering", "Understanding", "Analyzing", "Evaluating"], correct: 2 },
            { question: "85. Which theory emphasizes the learner's free will and personal responsibility?", options: ["Behaviourism", "Humanism", "Cognitivism", "Constructivism"], correct: 1 },
            { question: "86. The idea that learning is a consequence of a reward or punishment is central to:", options: ["Classical conditioning", "Social constructivism", "Operant conditioning", "Cognitive theory"], correct: 2 },
            { question: "87. Piaget's theory of cognitive development includes which stage after the preoperational stage?", options: ["Sensorimotor", "Formal operational", "Concrete operational", "Post-operational"], correct: 2 },
            { question: "88. A teacher who uses a debate to help students formulate arguments and justify their positions is targeting which two levels of Bloom's Taxonomy?", options: ["Remembering and Understanding", "Applying and Analyzing", "Analyzing and Evaluating", "Evaluating and Creating"], correct: 2 },
            { question: "89. Vygotsky’s concept of 'scaffolding' is a direct application of his idea of:", options: ["Classical conditioning", "Zone of Proximal Development", "Self-actualization", "The law of effect"], correct: 1 },
            { question: "90. Which of the following is a main criticism of Humanism in education?", options: ["It is too focused on external rewards", "It may not provide enough structure or direct instruction", "It ignores the importance of emotions", "It overemphasizes social learning"], correct: 1 },
            { question: "91. In a classroom, 'rote memorization' is a process that primarily uses which level of Bloom's Taxonomy?", options: ["Remembering", "Understanding", "Applying", "Creating"], correct: 0 },
            { question: "92. Pavlov's discovery of conditioned reflexes was the foundation for the study of:", options: ["Cognition", "Social interaction", "Classical conditioning", "Humanist therapy"], correct: 2 },
            { question: "93. Which of these theorists emphasized the 'whole person' and their potential for growth?", options: ["Skinner", "Piaget", "Rogers", "Thorndike"], correct: 2 },
            { question: "94. A student is struggling with a new concept. A teacher helps them by linking it to something they already know. This is a cognitive strategy related to:", options: ["Extinction", "Schema", "Punishment", "Scaffolding"], correct: 1 },
            { question: "95. 'Learner-centered' education is a hallmark of:", options: ["Behaviourism", "Cognitivism", "Humanism", "All of the above"], correct: 2 },
            { question: "96. According to Bloom's Taxonomy, 'modifying' an old idea to create a new one is an example of:", options: ["Applying", "Analyzing", "Evaluating", "Creating"], correct: 3 },
            { question: "97. Thorndike's puzzle box experiments are examples of the use of:", options: ["Classical conditioning", "Operant conditioning", "Social learning", "Cognitive schema"], correct: 1 },
            { question: "98. A student's ability to 'justify their answer' is at a higher cognitive level than simply 'stating the answer'. This is a core idea of:", options: ["Maslow's hierarchy", "Vygotsky's ZPD", "Bloom's Taxonomy", "Skinner's operant conditioning"], correct: 2 },
            { question: "99. 'Self-efficacy', or the belief in one's own ability to succeed, is a concept most aligned with which pedagogy?", options: ["Behaviourism", "Humanism", "Cognitivism", "Both Humanism and Cognitivism"], correct: 3 },
            { question: "100. A teacher asking students to 'construct a model' of the solar system is targeting which level of Bloom's Taxonomy?", options: ["Remembering", "Understanding", "Applying", "Creating"], correct: 3 }
        ];

        let userAnswers = {};
        let currentQuestionIndex = 0;
        let timerSeconds = 100 * 60; // 100 minutes for 100 questions
        let timerInterval;
        let userName = '';

        const nameEntryContainer = document.getElementById('name-entry-container');
        const quizContentWrapper = document.getElementById('quiz-content-wrapper');
        const nameInput = document.getElementById('name-input');
        const startBtn = document.getElementById('start-btn');
        const quizForm = document.getElementById('quiz-form');
        const resultsContainer = document.getElementById('results-container');
        const timerDisplay = document.getElementById('timer');
        const modal = document.getElementById('validation-modal');
        const modalMessage = document.getElementById('modal-message');
        const modalCloseBtn = document.getElementById('modal-close-btn');
        const printBtn = document.getElementById('print-btn');
        const downloadBtn = document.getElementById('download-btn');
        const userNameResult = document.getElementById('user-name-result');
        const fullQuizReview = document.getElementById('full-quiz-review');

        // Function to shuffle the questions array
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        // Shuffle the questions array when the script loads
        shuffle(allQuestions);
        
        // Function to render a single question on the page
        function renderQuestion(index) {
            quizForm.innerHTML = ''; // Clear previous questions
            const q = allQuestions[index];

            const questionBox = document.createElement('div');
            questionBox.className = 'bg-slate-100 p-6 rounded-2xl shadow-lg mb-6';
            
            const questionText = document.createElement('p');
            // Changed color to bright red
            questionText.className = 'text-lg sm:text-xl font-bold font-georgia text-[#FF0000] mb-4 flex items-center'; 
            
            const questionNumberSpan = document.createElement('span');
            questionNumberSpan.className = 'question-number-circle';
            questionNumberSpan.textContent = (index + 1);
            questionText.appendChild(questionNumberSpan);
            
            const questionContentSpan = document.createElement('span');
            // Remove any HTML tags from the question string before setting innerHTML
            questionContentSpan.innerHTML = q.question.substring(q.question.indexOf('.') + 2); 
            questionText.appendChild(questionContentSpan);

            questionBox.appendChild(questionText);

            q.options.forEach((option, optionIndex) => {
                const label = document.createElement('label');
                label.className = 'quiz-option-label relative flex items-center p-4 mb-3 rounded-xl bg-white border border-gray-200 cursor-pointer transition-all duration-300 ease-in-out';
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = `question-${index}`;
                input.value = optionIndex;
                
                const optionSpan = document.createElement('span');
                optionSpan.className = 'ml-3 text-base sm:text-lg text-gray-800 font-medium';
                // Ensure options are plain text
                optionSpan.innerHTML = option; 
                
                label.appendChild(input);
                label.appendChild(optionSpan);
                questionBox.appendChild(label);
            });

            // Add navigation buttons to the question box
            const navButtonsDiv = document.createElement('div');
            navButtonsDiv.className = 'flex justify-between mt-6 space-x-4';
            
            // Previous Button
            const prevBtn = document.createElement('button');
            prevBtn.id = 'prev-btn';
            prevBtn.textContent = 'Previous';
            prevBtn.className = 'w-full text-white font-bold py-3.5 rounded-full shadow-lg transition-colors bg-gray-500 hover:bg-gray-600 no-zoom';
            prevBtn.addEventListener('click', previousQuestion);

            // Hide the previous button on the first question
            if (currentQuestionIndex === 0) {
                prevBtn.classList.add('hidden');
            }

            // Next/Submit Button
            let nextBtn;
            if (currentQuestionIndex === allQuestions.length - 1) {
                nextBtn = document.createElement('button');
                nextBtn.id = 'submit-btn';
                nextBtn.textContent = 'Submit Quiz';
                nextBtn.className = 'w-full text-white font-bold py-3.5 rounded-full shadow-lg transition-colors submit-btn no-zoom';
                nextBtn.addEventListener('click', submitQuiz);
            } else {
                nextBtn = document.createElement('button');
                nextBtn.id = 'next-btn';
                nextBtn.textContent = 'Next';
                nextBtn.className = 'w-full text-white font-bold py-3.5 rounded-full shadow-lg transition-colors bg-blue-600 hover:bg-blue-700 no-zoom';
                nextBtn.addEventListener('click', nextQuestion);
            }
            
            navButtonsDiv.appendChild(prevBtn);
            navButtonsDiv.appendChild(nextBtn);
            questionBox.appendChild(navButtonsDiv);
            
            quizForm.appendChild(questionBox);
            
            // Highlight the previously selected answer if it exists
            if (userAnswers[index] !== undefined) {
                const selectedLabel = quizForm.querySelector(`input[name="question-${index}"][value="${userAnswers[index]}"]`).closest('label');
                if (selectedLabel) {
                    selectedLabel.classList.add('selected');
                    selectedLabel.querySelector('input').checked = true; // Set the radio button as checked
                }
            }

            // Add event listeners for new radio buttons
            const radioButtons = quizForm.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const parentLabel = event.target.closest('label');
                    const questionBox = parentLabel.closest('div');
                    
                    // Remove 'selected' class from all other labels in the same question
                    questionBox.querySelectorAll('label').forEach(label => {
                        label.classList.remove('selected');
                    });
                    
                    // Add 'selected' class to the currently chosen label
                    parentLabel.classList.add('selected');
                });
            });
        }
        
        // Function to start the countdown timer
        function startTimer() {
            timerInterval = setInterval(() => {
                timerSeconds--;
                const minutes = Math.floor(timerSeconds / 60);
                const seconds = timerSeconds % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerDisplay.textContent = "Time's up!";
                    submitQuiz();
                }
            }, 1000);
        }

        // Function to show the custom validation modal
        function showModal(message) {
            modalMessage.textContent = message;
            modal.classList.add('active');
            modal.classList.remove('hidden');
        }

        // Function to move to the next question
        function nextQuestion() {
            const selected = document.querySelector(`input[name="question-${currentQuestionIndex}"]:checked`);
            if (!selected) {
                showModal("Please select an option before moving to the next question.");
                return;
            }
            userAnswers[currentQuestionIndex] = parseInt(selected.value);
            
            currentQuestionIndex++;
            if (currentQuestionIndex < allQuestions.length) {
                renderQuestion(currentQuestionIndex);
            }
        }
        
        // Function to move to the previous question
        function previousQuestion() {
            // Save the current answer before moving back
            const selected = document.querySelector(`input[name="question-${currentQuestionIndex}"]:checked`);
            if (selected) {
                userAnswers[currentQuestionIndex] = parseInt(selected.value);
            }
            
            currentQuestionIndex--;
            if (currentQuestionIndex >= 0) {
                renderQuestion(currentQuestionIndex);
            }
        }
        
        // New function to start the quiz after name entry
        function startQuiz() {
            const name = nameInput.value.trim();
            if (!name) {
                showModal("Please enter your name to start the quiz.");
                return;
            }
            userName = name;
            nameEntryContainer.classList.add('hidden');
            quizContentWrapper.classList.remove('hidden');
            renderQuestion(currentQuestionIndex);
            startTimer();
        }

        // Function to render the full quiz results with correct and incorrect answers highlighted
        function renderFullResults() {
            fullQuizReview.innerHTML = ''; // Clear previous review
            
            allQuestions.forEach((q, index) => {
                const questionReviewItem = document.createElement('div');
                questionReviewItem.className = 'quiz-review-item';
                
                const questionText = document.createElement('p');
                questionText.className = 'quiz-review-question';
                // Ensure the question content is correctly displayed, including any red highlighting
                questionText.innerHTML = `<span class="question-number-circle">${index + 1}</span> ${q.question.substring(q.question.indexOf('.') + 2)}`;
                questionReviewItem.appendChild(questionText);

                q.options.forEach((option, optionIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'quiz-review-option';
                    
                    const isCorrect = optionIndex === q.correct;
                    const isUserAnswer = userAnswers[index] === optionIndex;

                    // Apply green for correct answer
                    if (isCorrect) {
                        optionDiv.classList.add('correct');
                        optionDiv.innerHTML = `✅ ${option}`;
                    } 
                    // Apply red for incorrect user answer
                    else if (isUserAnswer) {
                        optionDiv.classList.add('incorrect');
                        optionDiv.innerHTML = `❌ ${option}`;
                    }
                    // Default styling for other options
                    else {
                        optionDiv.innerHTML = `${String.fromCharCode(65 + optionIndex)}. ${option}`;
                    }
                    
                    questionReviewItem.appendChild(optionDiv);
                });
                
                fullQuizReview.appendChild(questionReviewItem);
            });
        }

        // Function to submit the quiz and display results
        function submitQuiz() {
            clearInterval(timerInterval); // Stop the timer
            
            // Check if the final question is answered
            const selected = document.querySelector(`input[name="question-${currentQuestionIndex}"]:checked`);
            if (!selected) {
                showModal("Please select an option before submitting.");
                return;
            }
            userAnswers[currentQuestionIndex] = parseInt(selected.value);

            // Disable all radio buttons and buttons after submission
            const allRadios = quizForm.querySelectorAll('input[type="radio"]');
            allRadios.forEach(radio => radio.disabled = true);

            let score = 0;
            allQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    score++;
                }
            });

            // Display results
            userNameResult.textContent = `Quiz Taker: ${userName}`;
            document.getElementById('total-questions').textContent = allQuestions.length;
            document.getElementById('obtained-marks').textContent = score;
            
            // Render the full quiz review
            renderFullResults();

            // Hide quiz, show results container
            quizContentWrapper.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            resultsContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Show the name entry screen by default
            nameEntryContainer.classList.remove('hidden');
        });
        
        startBtn.addEventListener('click', startQuiz);
        
        modalCloseBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
            modal.classList.remove('active');
        });
        
        // Event listener for the "Print Result" button
        printBtn.addEventListener('click', () => {
            window.print();
        });
        
        // Event listener for the "Download Result Card" button
        downloadBtn.addEventListener('click', () => {
            const headerContent = document.getElementById('header').innerHTML;
            const footerContent = document.getElementById('footer').innerHTML;
            const userName = document.getElementById('user-name-result').textContent;
            const totalQuestions = document.getElementById('total-questions').textContent;
            const obtainedMarks = document.getElementById('obtained-marks').textContent;

            // Create a temporary, hidden container for the image generation
            const tempContainer = document.createElement('div');
            tempContainer.id = 'download-result-container';
            document.body.appendChild(tempContainer);

            // Get current date and time
            const now = new Date();
            const dateStr = `${String(now.getDate()).padStart(2, '0')}/${String(now.getMonth() + 1).padStart(2, '0')}/${now.getFullYear()}`;
            const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;
            
            // Build the simplified content for the image
            tempContainer.innerHTML = `
                <div class="header-clone">${headerContent}</div>
                <div class="results-clone">
                    <h2 class="text-3xl font-extrabold text-center mb-4 text-green-700">Pedagogy Quick Revision MCQs</h2>
                    <p class="text-lg mb-1 text-center font-bold text-gray-700">By SSTs Paid Course by Imran Ustad</p>
                    <p class="text-lg mb-3 text-center font-extrabold text-green-600">${userName}</p>
                    <p class="text-lg text-gray-700 mt-4 text-center">Date: ${dateStr} - Time: ${timeStr}</p>
                    <p class="text-lg mb-3 text-center">
                        Total Questions: <span class="font-extrabold text-green-600">${totalQuestions}</span>
                    </p>
                    <p class="text-lg mb-6 text-center">
                        Obtained Marks: <span class="font-extrabold text-green-600">${obtainedMarks}</span>
                    </p>
                </div>
                <div class="footer-clone">${footerContent}</div>
            `;
            
            // Use html2canvas to capture the content of the temporary container
            html2canvas(tempContainer, {
                scale: 2, // Increase scale for a higher-quality image
                useCORS: true,
                backgroundColor: '#ffffff'
            }).then(canvas => {
                const image = canvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.href = image;
                link.download = 'Pedagogy_Quick_Revision_MCQs_Result_Card.png';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }).finally(() => {
                // Clean up the temporary container
                document.body.removeChild(tempContainer);
            });
        });
    </script>
</body>
</html>
